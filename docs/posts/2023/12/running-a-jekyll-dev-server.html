<!DOCTYPE html>
<html lang="en" class="html" data-theme="auto"><head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />

  <title>
    
    Running a Jekyll Dev Server
    
  </title>

  <link type="application/atom+xml" rel="alternate" href="https://www.julianlopez.net/feed.xml" title="Domain of a Knight" />

  <meta name="generator" content="Jekyll v4.2.2">
  <meta name="author" content="Julian Lopez">
  
  <meta name="description" content="I've been having issues with a VS Code plugin I use to preview my Jekyll blog. Thus, I've decided to stop using it and use a different method instead.">
  <meta property="og:description" content="I've been having issues with a VS Code plugin I use to preview my Jekyll blog. Thus, I've decided to stop using it and use a different method instead.">
  <meta name="twitter:description" content="I've been having issues with a VS Code plugin I use to preview my Jekyll blog. Thus, I've decided to stop using it and use a different method instead.">
  
  <link rel="canonical" href="https://www.julianlopez.net">
  <meta property="og:title" content="Running a Jekyll Dev Server">
  <meta property="og:locale" content="en_US">
  <meta property="og:url" content="/posts/2023/12/running-a-jekyll-dev-server">
  <meta property="og:site_name" content="Domain of a Knight">
  
  <meta property="og:image" content="https://ik.imagekit.io/jlo64/www_julianlopez_net/opengraph-images/tr:l-text,i-Running%20a%20Jekyll%20Dev%20Server,tg-b,co-74c0fc,fs-80,w-1200,pa-80_0_0_0,ff-Ubuntu,lfo-center,l-end/template.png">
  <meta name="twitter:image" content="https://ik.imagekit.io/jlo64/www_julianlopez_net/opengraph-images/tr:l-text,i-Running%20a%20Jekyll%20Dev%20Server,tg-b,co-74c0fc,fs-80,w-1200,pa-80_0_0_0,ff-Ubuntu,lfo-center,l-end/template.png">
  
  <meta name="twitter:card" content="summary_large_image">
  <!-- <meta property="twitter:domain" content="julianlopez.net"> -->
  <meta property="twitter:url" content="/posts/2023/12/running-a-jekyll-dev-server">
  <meta name="twitter:title" content="Running a Jekyll Dev Server">

  <!-- Favicon -->
  <link rel="apple-touch-icon" sizes="180x180" href="/assets/images/favicon/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/assets/images/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/assets/images/favicon/favicon-16x16.png">
  <link rel="manifest" href="/assets/images/favicon/site.webmanifest">
  <link rel="mask-icon" href="/assets/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
  <link rel="shortcut icon" href="/assets/images/favicon/favicon.ico">
  <meta name="msapplication-TileColor" content="#00aba9">
  <meta name="msapplication-config" content="/assets/images/favicon/browserconfig.xml">
  <meta name="theme-color" content="#74c0fc">
  <!-- Favicon -->

  <!-- Google site verification -->
  <meta name="google-site-verification" content="VsNyvMxYvOQFM1OyN-DUCMvUDGYbj3xb6ZmPBbkNLYo" />

  <link rel="stylesheet" href="/assets/css/main.css" />
  
  <script type="text/javascript">
  window.addEventListener('load', themeChange);
  window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change", event => {
    const newColorScheme = event.matches ? "dark" : "light";
    switchToColorTheme(newColorScheme);
});
  isDarkMode = window.matchMedia && window.matchMedia("(prefers-color-scheme: dark)").matches;
  
  const isDesktop = window.matchMedia('(min-width: 800px) and (orientation: landscape) and (hover: hover) and (pointer: fine)');
  if (isDesktop.matches)
  {
    localStorageTheme = localStorage.getItem('theme') ? localStorage.getItem('theme') : null;
    moonSvgCode = '';
    sunSvgCode = '';
    fetch('../assets/svg/toggle_moon.html')
    .then(response => response.text())
    .then(data => {moonSvgCode = data;})
    fetch('../assets/svg/toggle_sun.html')
    .then(response => response.text())
    .then(data => {sunSvgCode = data;})
    
    if (localStorageTheme)
    {
      if (localStorageTheme === 'dark')
        switchToColorTheme('dark', true);
      else
        switchToColorTheme('light', true);
    }
  }
  else
  {
    if (isDarkMode)
      switchToColorTheme('dark', true);
    else
      switchToColorTheme('light', true);
  }

  function switchToColorTheme(themeChangeto, pageload = false) {
    if (!pageload)
    {
      document.documentElement.classList.add('transition');
      transition();
    }
    if (themeChangeto === 'light')
    {
      document.documentElement.setAttribute('data-theme', 'light');
      localStorage.setItem('theme', 'light');
    }
    else
    {
      document.documentElement.setAttribute('data-theme', 'dark');
      localStorage.setItem('theme', 'dark');
    }
    if (!document.getElementById('darkModeButton'))
    {
      setTimeout(function() {
        changeButtonSVG(themeChangeto);
       }, 300);
    }
    else
      changeButtonSVG(themeChangeto);
  }
  
  function changeButtonSVG(themeChangeto) {
    let button = document.getElementById('darkModeButton');
    let svg = button.querySelector('svg');
    if (themeChangeto === 'light')
    {
      if (typeof moonSvgCode !== 'undefined') {
        svg.innerHTML = moonSvgCode;
        svg.setAttribute('viewBox', '0 0 40 40');
      }
    }
    else
    {
      if (typeof sunSvgCode !== 'undefined') {
        svg.innerHTML = sunSvgCode;
        svg.setAttribute('viewBox', '0 0 40 40');
      }
    }   
  }


  function transition(){
    document.documentElement.classList.add('transition');
    window.setTimeout(() => {
      document.documentElement.classList.remove('transition');
    }, 1000);
  }

  function themeChange() {
    let button = document.querySelector('.theme-toggle');

    button.addEventListener('click', function (e) {
      let currentTheme = document.documentElement.getAttribute('data-theme');
      if (currentTheme === 'light')
        switchToColorTheme('dark');
      else
        switchToColorTheme('light');
  });
  }
</script>


  

  

  <!-- RSS Feed -->
  <link rel="alternate" type="application/rss+xml" title="Domain of a Knight Feed" href="/feed.xml"/>

</head><body>
    <a menu-open class="hamburger-menu-link">
      <span class="bar1"></span>
      <span class="bar2"></span>
      <span class="bar3"></span>
    </a>
    <svg class="background-svg" width="100%" height="100%">
    <filter id='grainy'>
        <feTurbulence type='turbulence' baseFrequency='0.5' />
    </filter>
    <rect fill='rgba(0, 0, 0, 0)' width='100%' height='100%' filter='url(#grainy)'/>
    <svg class="progress-ring background-svg">
        <circle class="progress-ring__circle progress-ring__circle--thin" fill="transparent" cx="100%" cy="100%" r="160"/>
        <circle class="progress-ring__circle progress-ring__circle--regular" fill="transparent" cx="100%" cy="100%" r="1000"/>
        <circle class="progress-ring__circle progress-ring__circle--thick" fill="transparent" cx="100%" cy="100%" r="1500"/>
        <circle class="progress-ring__circle progress-ring__circle--thick" fill="transparent" cx="100%" cy="100%" r="760"/>
        <circle class="progress-ring__circle progress-ring__circle--regular" fill="transparent" cx="100%" cy="100%" r="300"/>
        <circle class="progress-ring__circle progress-ring__circle--thin" fill="transparent" cx="100%" cy="100%" r="450"/>
        <circle class="progress-ring__circle progress-ring__circle--thin" fill="transparent" cx="100%" cy="100%" r="1200"/>
        <circle class="progress-ring__circle progress-ring__circle--regular" fill="transparent" cx="100%" cy="100%" r="1800"/>
    </svg> 
</svg>
    
      <button title="Toggle Theme" class="theme-toggle" id="darkModeButton">
  <svg viewBox="0 0 100 100" width="40" height="40" fill="currentcolor" >
    <circle cx="50" cy="50" r="20" fill="none" stroke="yellow" stroke-width="0"></circle>
  </svg>  
</button>

    

    <script>
    window.addEventListener('load', dialogButtonInitializer);
    
    function dialogButtonInitializer() {
        const all_pictures = document.querySelectorAll('picture');
        const closeDialogButton = document.getElementById('data-close')
        const dialog = document.querySelector('dialog')
        const dialogContent = document.getElementById('img-dialog-content');
        const body = document.querySelector('body');
    
        all_pictures.forEach(openDialogButton => {
            openDialogButton.addEventListener('click', (event) => {
                // Copy the contents of the clicked picture into the dialog content
                let htmlContent = event.target.outerHTML;
                htmlContent = htmlContent.replace(/\?tr=w-480/g, '').replace(/max-height: 60vh/g, '').replace(/border-radius: 1rem;/g, '');
                dialogContent.innerHTML = htmlContent;

                dialog.showModal()
                body.style.overflow = 'hidden';
          })
      })
    
      closeDialogButton.addEventListener('click', () => {
          dialog.close();
          body.style.overflow = '';
      })
    
      dialog.addEventListener('click', (event) => {
          const dialogDimentions = dialog.getBoundingClientRect()
          if (
              event.clientX < dialogDimentions.left ||
              event.clientX > dialogDimentions.right ||
              event.clientY < dialogDimentions.top ||
              event.clientY > dialogDimentions.bottom
          ) {
              dialog.close()
              body.style.overflow = '';
          }
      })
    }
    </script>
    
    <dialog id="img-dialog">
        <button id="data-close" class="closedialogbutton" autofocus="true">
            <span class="closebar1"></span>
            <span class="closebar2"></span>
        </button>
        <div id="img-dialog-content"></div>
    </dialog>
    
    
    <main class="page-content" aria-label="Content">
      <dialog id="menu-dialog">
    <div id="navbar-dialog-content">
      <!-- <a menu-close class="hamburger-menu-close-link">
        <span class="closebar1"></span>
        <span class="closebar2"></span>
      </a> -->
      <button menu-close class="closedialogbutton" autofocus="true">
        <span class="closebar1"></span>
        <span class="closebar2"></span>
      </button>
        <div style="position: fixed; top: 1.5rem; right: 1.5rem;">
          <!-- <div class="toggleSwitch">
            <input type="radio" id="Light-Mobile" name="darkSwitchmobile" value="Light">
            <label for="Light-Mobile">Light</label>
            <input type="radio" id="Dark-Mobile" name="darkSwitchmobile" value="Dark">
            <label for="Dark-Mobile">Dark</label>
          </div> -->
      </div>
      <ul class="navbar-list-mobile">
        
          <li>
            <a href="/">
              Home
            </a>
          </li>
        
          <li>
            <a href="/posts">
              Posts
            </a>
          </li>
        
          <li>
            <a href="/subscribe">
              Subscribe
            </a>
          </li>
        
          <li>
            <a href="/about">
              About
            </a>
          </li>
        
      </ul>
    </div>
  </dialog>

<script>
    window.addEventListener('load', menuDialogInitializer);
  
    function menuDialogInitializer() {
      const openDialogButtons = document.querySelectorAll('[menu-open]')
      const closeDialogButton = document.querySelector('[menu-close]')
      const glossaryLinkButton = document.querySelector('[glossary-link]')
      const menuDialog = document.getElementById('menu-dialog');
      const body = document.querySelector('body');
      const navbarlistmobile = document.querySelector('.navbar-list-mobile');
      const darkSwitchmobile = document.querySelector('.darkSwitchmobile');
  
      openDialogButtons.forEach(openDialogButton => {
          openDialogButton.addEventListener('click', () => {
              menuDialog.showModal();
              //set the overflow to hidden to prevent scrolling of the background
              body.style.overflow = 'hidden';
          })
      })
  
      closeDialogButton.addEventListener('click', () => {
        menuDialog.close();
        body.style.overflow = '';
      })
  
      menuDialog.addEventListener('click', (event) => {
          const navbarListDimentions = navbarlistmobile.getBoundingClientRect();
          //const darkSwitchDimensions = darkSwitchmobile.getBoundingClientRect();
  
          if (
              event.clientX < navbarListDimentions.left ||
              event.clientX > navbarListDimentions.right ||
              event.clientY < navbarListDimentions.top ||
              event.clientY > navbarListDimentions.bottom
          )
          {
            // Check if the target element is the dark switch
            if (!darkSwitchmobile.contains(event.target))
            {
              menuDialog.close();
              body.style.overflow = '';
            }
          }
      })
    }
  </script>
      <div class="w">
        <header>
    
      <ul class="horizontal-list">
  
    <li>
      <a href="/">Home</a>
      &nbsp;&nbsp;
    </li>
  
    <li>
      <a href="/posts">Posts</a>
      &nbsp;&nbsp;
    </li>
  
    <li>
      <a href="/subscribe">Subscribe</a>
      &nbsp;&nbsp;
    </li>
  
    <li>
      <a href="/about">About</a>
      &nbsp;&nbsp;
    </li>
  
</ul>

      <div class=not-dashed></div>
    
</header>

  <h1 class="post-title">Running a Jekyll Dev Server</h1>
  <p style="font-weight: bold; margin-top: 2.5rem; margin-bottom: 0rem;">
  
  
  
    Posted On:
    <span>December 12 2023</span>
    
      / Last Modified:
      <span>December 27 2023</span>
    
  
</p>


  <div style="display: inline-flex; flex-wrap: wrap;">
    <span style="font-weight: bold;">Tags:  </span>
    <!-- <ul class="tag-ul" style="margin: 0.2rem;"> -->
    <ul class="tag-ul" style="margin: 0.2rem;"></ul>
      
      
      <li class="tag" style="margin: 0.2rem;"><a href="/tag/jekyll">jekyll</a></li>
      
      <li class="tag" style="margin: 0.2rem;"><a href="/tag/nginx">nginx</a></li>
      
      <li class="tag" style="margin: 0.2rem;"><a href="/tag/webdev">webdev</a></li>
      
    </ul>
  </div>



<p style="font-weight: bold; margin: 0rem;"><span>Written by Julian Lopez</span></p>





<div class="inpost_description">
I've been having issues with a VS Code plugin I use to preview my Jekyll blog. Thus, I've decided to stop using it and use a different method instead.
</div>

<h2 id="my-plugin-problem">My Plugin Problem</h2>

<p>Here’s a quick breakdown of how my writing process for this blog works. I have a server in my bedroom which I remote into within VS Code my laptop or iPad via VS Code. From there I create and edit markdown files within my Jekyll site repository and publish them via Git. (I’m probably going to be changing my workflow significantly soon thanks to <a href="https://obsidian.md/">Obsidian</a>, and I’ll write more in depth then.)</p>

<p>In order to preview my website I use a VS Code extension called <a href="https://marketplace.visualstudio.com/items?itemName=Dedsec727.jekyll-run">Jekyll Run</a>. All it really does is run the command <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve</code> within your site directory and serves your site at <code class="language-plaintext highlighter-rouge">localhost:4000</code>. Since I run it off my server and because I want to test this preview on my phone, I add <code class="language-plaintext highlighter-rouge">--host=0.0.0.0</code> to the launch options of this plugin. This way I can just connect to port 4000 of my server’s IP address from my phone’s web browser and access the preview from there.</p>

<p>The actual preview itself works great, but I’ve been having issues with the plugin not terminating when I disconnect from my server. Thus, when I reconnect and try to launch it again it errors out since the port (4000 in my case) is occupied. There’s a plugin setting that’s meant to fix this, but it does nothing in my case. I suspect that the author of it never tested an SSH use case. I’ve submitted a <a href="https://github.com/Kanna727/jekyll-run/issues/67">GitHub Issue</a>, but I doubt I this will get fixed anytime soon.</p>

<h2 id="the-solution">The Solution</h2>

<p>Something I’ve thought of recently is just launching the command <code class="language-plaintext highlighter-rouge">bundle exec jekyll serve --host=0.0.0.0</code> on startup and just leaving it running on my server. It’s a dead simple fix that requires no thought. Besides, now that I’m transitioning my writing to Obsidian for my writing I want to use a plugin called “Permalink Opener” to open a preview of what I’m writing. Switching between Obsidian and VS Code just to activate a plugin wouldn’t the best experience. (It’s got one major issue though that I’m gonna be submitting a PR for soon.)</p>

<p>I also want to change the port I use to something other than 4000 since I might need that open for other applications. That can be easily done by appending <code class="language-plaintext highlighter-rouge">-P PORT_NUMBER</code> with you substituting your port number in of course.</p>

<p>To run this command on boot I appended the below line to my <code class="language-plaintext highlighter-rouge">crontab</code> file.</p>
<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@reboot cd PATH_TO_YOUR_JEKYLL_DIRECTORY &amp;&amp; bundle exec jekyll serve --host=0.0.0.0 -P PORT_NUMBER
</code></pre></div></div>

<h2 id="creating-a-jekyll-subdomain">Creating A Jekyll Subdomain</h2>

<p>Now while this is perfectly workable so far, I’d rather have a real URL to connect to instead of having to type in a port number after my domain. Thus I decided to add a “jekyll” subdomain to my site. This is literally the same thing as what I wrote about in my <a href="/posts/2023/11/setting-up-my-domain">previous post on adding subdomains</a> so I won’t be going into too much detail about it here. Below is what I added to my Nginx config and my AWS route 53 settings.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>server {
    listen 80;
    server_name jekyll.julianlopez.net;
    location / {
       proxy_pass http://localhost:JEKYLL_PORT;
    }
}
</code></pre></div></div>
<picture>
    <source srcset="https://ik.imagekit.io/jlo64/www_julianlopez_net/2023-12-12-Running-a-Jekyll-Dev-Server/_route53_I8iJ4bRVP.png?tr=w-720,f-webp," type="image/webp" />
    <img src="https://ik.imagekit.io/jlo64/www_julianlopez_net/2023-12-12-Running-a-Jekyll-Dev-Server/_route53_I8iJ4bRVP.png?tr=w-480" alt="A screenshot of an AWS Route 53 domain record." class="blog_image" title="A screenshot of an AWS Route 53 domain record." />
    <figcaption style="text-align:center">Here is the AWS Route 53 domain record I set up for this subdomain.</figcaption>
 </picture>

<p>If you’re going to copy what I’m doing, make sure that the port you’re using is open on your router and firewall in addition to Nginx being properly configured. Otherwise, you’ll only be able to access this preview from your local</p>

<p>With that, I’m done! If you want to check out the changes I’m going to be making to my site before I publish them, visit <a href="http://jekyll.julianlopez.net">jekyll.julianlopez.net</a>.</p>


<a href="mailto:admin@julianlopez.net?subject=Re: Running a Jekyll Dev Server">Send me your thoughts via Email</a>
        <div class="not-dashed" style="margin-top: 2rem;"></div>
        <div class="credits">
          <p>&copy;&nbsp;2023&nbsp;Julian Lopez</p>
          <ul>
            <li>
              Powered by <a href="https://jekyllrb.com" target="_blank" rel="noreferrer">Jekyll</a>
            </li>
            <li>
            Based on&nbsp; <a href="https://github.com/abhinavs/moonwalk" target="_blank" rel="noreferrer">Moonwalk</a>
            </li>
            <li>
            Hosted on&nbsp; <a href="https://github.com/JLO64/JLO64.github.io" target="_blank" rel="noreferrer">GitHub</a>
            </li>
            <li>
              <a href="feed.xml" target="_blank" rel="noreferrer">RSS Feed</a>
            </li>
            <!-- <script data-goatcounter="https://jlo64.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>           -->
          </ul>
          <div>
            <!-- <p>👻 Member of <a href="https://darktheme.club/">darktheme.club</a> 👻</p> -->
            <div class="kb-club">
              <a target="blank" href="https://512kb.club"><span class="kb-club-no-bg">512KB Club</span><span class="kb-club-bg">Green Team</span></a>
            </div>
            <div class="darktheme-club">
              <a target="blank" href="https://darktheme.club/"><span class="darktheme-club-no-bg">darktheme.club</span><span class="darktheme-club-bg">Member</span></a>
            </div>
          </div>
        <div>
      </div>
    </main>
  </body>
</html>
